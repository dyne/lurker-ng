Quick start
===========

0 Find and install development files for: 
	g++ >= 3.2            - http://gcc.gnu.org/
	jam                   - http://www.perforce.com/jam/jam.html
	xsltproc (libxslt1)   - http://xmlsoft.org/XSLT/
	mimelib  (kdenetwork) - ftp://download.uk.kde.org/pub/kde/stable/latest/src

 Or, if you run debian:
  apt-get install xsltproc libmimelib1-dev jam g++
 
 Often, your distribution will already include packages for these.

1 ./configure

  If you need to specify dependency locations these options might help:
  --with-xsltengine=CMD   Use the given command to render xslt
  --with-mimelib-include  Location of mimelib/message.h
  --with-mimelib-libname  Try an alternative library name

2 jam

3 jam install	(as root if you don't have permission)
		(DESTDIR=/tmp/lurker jam install -- also works)

4 Setup delivery of new mail to lurker-index
  
  For procmail, 
	PATH=$PATH:/path/to/lurker-index-directory
	:0 w
	* ^X-Mailing-List: <debian-japanese@lists.debian.org>.*
	| lurker-index -c /etc/lurker.conf -l japanese -m
  ... works for me.

5 Feed archived mail through lurker-index.
  
  lurker-index -c /etc/lurker.conf -l devel -b 5 < debian-devel.mbox
  
  Keep in mind these points:
  
    a. Lurker imports benefit primarily from a fast CPU and fast RAM.
       Lurker rendering of pages benefits from more RAM (for disk cache).
    
    b. The lurker database will consume space on the order of 40% of the
       mailboxes it indexes. You must keep the mbox lurker creates, 
       although the original mbox is not required after lurker-index.
    
    c. Nearly all of the processing time lurker spends is on importing
       messages. Once you have indexed your archive, lurker no longer needs
       as much resources.
    
6 Setup a cronjob to remove cached files every 15 minutes
 
  0,15,30,45 * * * * rm -f /path/to/www/files/*/*.html 
  0,15,30,45 * * * * rm -f /path/to/www/files/*/*.xml
  
  ... in a later version this will be handled more intelligently.

7 Configure your webserver.
  
  You must make certain that .xsl and .xml files have type text/xml.
  You must set the default charset to utf-8 for these files.
  You must make lurker your 404 error handler.
  
  For apache, put:
	AddType text/xml .xsl
	AddType text/xml .xml
	AddDefaultCharset utf-8
	ErrorDocument 404 /cgi-bin/lurker.cgi?/path/to/lurker.conf
  ... in an .htaccess file beside index.html.

8 point your browser at the url where lurker is installed

	http://yourhost.com/~youruser/	for the first example configure
	http://yourhost.com/lurker/	for the second example configure

Enjoy!
